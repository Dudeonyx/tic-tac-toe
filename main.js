!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=(()=>{function e(t={},...r){let n;"boolean"==typeof r[r.length-1]&&(n=r.pop());const o=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return Object.getOwnPropertyNames(t).forEach(r=>{const c=Object.getOwnPropertyDescriptor(t,r);!0===n&&null!==c.value&&"object"==typeof c.value&&(c.value=e(c.value,!0)),Object.defineProperty(o,r,c)}),r.forEach(t=>{Object.getOwnPropertyNames(t).forEach(r=>{const c=Object.getOwnPropertyDescriptor(t,r);!0===n&&null!==c.value&&"object"==typeof c.value&&(c.value=e(c.value,!0)),Object.hasOwnProperty.call(o,r)?(o.duplicateProperties||(o.duplicateProperties={}),Object.defineProperty(o.duplicateProperties,r,c)):Object.defineProperty(o,r,c)})}),o}return Object.freeze({merge:e,setConstructor:function(t){return(r,n=!1)=>{const o=Object.create(Object.getPrototypeOf(r));return o.constructor=t,!0===n?Object.create(e(o,r)):e(Object.create(o),r)}},rClone:function e(t,r){const n=Array.isArray(t)?[]:{};return Object.getOwnPropertyNames(t).forEach(o=>{const c=Object.getOwnPropertyDescriptor(t,o);!0===r&&null!==c.value&&"object"==typeof c.value&&(c.value=e(c.value,!0)),Object.defineProperty(n,o,c)}),n},copy:function e(t,r){const n=Array.isArray(t)?[]:{};return Object.keys(t).forEach(o=>{const c=t[o];n[o]="object"==typeof c&&!0===r?e(c):c}),n}})})();var o=(()=>{return{$:function(e){return document.querySelector(e)},$All:function(e){return document.querySelectorAll(e)},$Create:function(e){return document.createElement(e)}}})();const c=function(e="x"){const t="x"===e?"o":"x";return Object.freeze({[e]:{name:"Player One",mark:e},[t]:{name:"Player Two",mark:t}})}();let a="x";function u(){a="x"===a?"o":"x"}const l=(()=>{const e=3;function t(t=e){const r=[];for(let e=0;e<t;e+=1){const e=[];for(let r=0;r<t;r+=1)e.push("");r.push(e)}return r}let r=t(e);return Object.freeze({setBoard:function({newMark:e,row:t,column:n}){return""===r[t][n]&&(r[t][n]=e,!0)},checkForWinner:function(t="x"){const n=t.repeat(3);for(let t=0;t<e;t+=2)if(r[0][0+t]+r[1][1]+r[2][2-t]===n)return!0;for(let t=0;t<e;t+=1)if(r[t][0]+r[t][1]+r[t][2]===n)return!0;for(let t=0;t<e;t+=1)if(r[0][t]+r[1][t]+r[2][t]===n)return!0;return!1},reset:function(){return r=t(e),a="x",r},checkBoardCompletion:function(){const e=[],t=r.every(e=>e.every(e=>""!==e));return r.forEach((t,r)=>t.forEach((t,n)=>{""===t&&e.push([r,n])})),{status:t,blankSpots:e}},getBoard:()=>n.copy(r,!0)})})();(()=>{const e=o.$("#board"),t=o.$("#current-mark");t.textContent=a;const r=[];function n(e,r,n){const o=e;t.textContent=a,o.textContent=l.getBoard()[+r][+n]}const i=(()=>{const e=Object.freeze({winner(t){const r=l.getBoard();return l.reset(),e.removeEventListens(),o.$("#winner").textContent=`Congratulations: ${c[t].name} has won!!!`,{winner:c[t].name,oldBoard:r}},autoTurn(){if("Player Two"===c[a].name){const{blankSpots:e=[]}=l.checkBoardCompletion(),[t,r]=e[Math.floor(Math.random()*e.length)],c={newMark:a,row:t,column:r};if(l.setBoard(c),n(o.$(`[data-row='${t}'][data-column='${r}']>p`),t,r),l.checkForWinner(a))return i.winner(a);if(l.checkBoardCompletion().status)return i["Game Over!"];u()}},"Game Over!":()=>(u(),e.removeEventListens(),l.reset(),o.$("#winner").textContent="GAME OVER!","Game Over!"),clicks(t){if("x"===a){const{cellText:r,row:n,column:o}=t.target.myParams,c={newMark:a,row:n,column:o},u=l.setBoard(c);e[u](r,n,o)}},removeEventListens(){r.forEach(e=>e())}});return e})();function s({row:e,column:t,cellText:o,cell:c,counter:s}){const f=()=>{if("x"===a){const p={newMark:a,row:e,column:t},d=l.setBoard(p);if(console.log(d),!d)return;if(n(o,e,t),l.checkForWinner(a))return i.winner(a);if(l.checkBoardCompletion().status)return i["Game Over!"];u(),c.removeEventListener("click",f),r.splice(s,1),console.log(r),setTimeout(i.autoTurn,800)}};c.addEventListener("click",f),r.push(()=>c.removeEventListener("click",f))}return{createDOMBoard:function(t=3){e.innerHTML="",o.$("#winner").textContent="";for(let r=0;r<t;r+=1){const n=e.appendChild(o.$Create("div"));n.classList.add("col-12","row","board-row");for(let e=0;e<t;e+=1){const t=n.appendChild(o.$Create("div")),c=t.appendChild(o.$Create("p"));let a=0;t.classList.add("col-4","d-flex","border","cell","text-center","align-items-center","justify-content-center"),c.classList.add("col","m-0","text-uppercase","display-4"),t.setAttribute("data-row",`${r}`),t.setAttribute("data-column",`${e}`),c.textContent=l.getBoard()[r][e],s({row:r,column:e,cellText:c,cell:t,counter:a}),a+=1}}}}})().createDOMBoard()}]);